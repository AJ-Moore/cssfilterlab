<!doctype html>

<!-- 
Copyright (c) 2012 Adobe Systems Incorporated. All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<html dir="ltr" lang="en">
<head>
    <title>CSS FilterLab</title>
    <link rel="stylesheet" type="text/css" href="style/css/app.css">
    <link rel="stylesheet" href="lib/third_party/CodeMirror/lib/codemirror.css">

    <script src="lib/third_party/jquery/jquery-1.8.0.min.js" type="text/javascript"></script>
    <script src="lib/third_party/jquery/jquery-ui-1.8.23.custom.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="lib/third_party/CodeMirror/lib/codemirror.js"></script>
    <script type="text/javascript" src="lib/third_party/CodeMirror/mode/clike/clike.js"></script>

    <script type="text/javascript" src="configs.js"></script>
    <script type="text/javascript" src="lib/utils/utils.js"></script>
    <script type="text/javascript" src="lib/utils/event_dispatcher.js"></script>
    <script type="text/javascript" src="lib/application.js"></script>
    <script type="text/javascript" src="lib/controls/base_control.js"></script>
    <script type="text/javascript" src="lib/controls/code_editor.js"></script>
    <script type="text/javascript" src="lib/controls/multi_control.js"></script>
    <script type="text/javascript" src="lib/controls/color_control.js"></script>
    <script type="text/javascript" src="lib/controls/checkbox_control.js"></script>
    <script type="text/javascript" src="lib/controls/vector_control.js"></script>
    <script type="text/javascript" src="lib/controls/editable_label.js"></script>
    <script type="text/javascript" src="lib/controls/range_control.js"></script>
    <script type="text/javascript" src="lib/controls/transform_control.js"></script>
    <script type="text/javascript" src="lib/controls/text_control.js"></script>
    <script type="text/javascript" src="lib/controls/warp_control.js"></script>
    <script type="text/javascript" src="lib/models/active_object.js"></script>
    <script type="text/javascript" src="lib/models/animation.js"></script>
    <script type="text/javascript" src="lib/models/preset_store.js"></script>
    <script type="text/javascript" src="lib/models/filter_config.js"></script>
    <script type="text/javascript" src="lib/models/filter.js"></script>
    <script type="text/javascript" src="lib/models/filter_store.js"></script>
    <script type="text/javascript" src="lib/models/filter_list.js"></script>
    <script type="text/javascript" src="lib/models/github.js"></script>
    <script type="text/javascript" src="lib/models/keyframe.js"></script>
    <script type="text/javascript" src="lib/utils/angle_lib.js"></script>
    <script type="text/javascript" src="lib/utils/color_scheme.js"></script>
    <script type="text/javascript" src="lib/utils/config.js"></script>
    <script type="text/javascript" src="lib/utils/css_generators.js"></script>
    <script type="text/javascript" src="lib/utils/local_storage.js"></script>
    <script type="text/javascript" src="lib/utils/mixers.js"></script>
    <script type="text/javascript" src="lib/utils/timer.js"></script>
    <script type="text/javascript" src="lib/utils/warp_helpers.js"></script>
    <script type="text/javascript" src="lib/views/filter_store_view.js"></script>
    <script type="text/javascript" src="lib/views/active_filter_list_view.js"></script>
    <script type="text/javascript" src="lib/views/css_code_view.js"></script>
    <script type="text/javascript" src="lib/views/filter_item_view.js"></script>
    <script type="text/javascript" src="lib/views/preset_store_view.js"></script>
    <script type="text/javascript" src="lib/views/loading_progress_view.js"></script>
    <script type="text/javascript" src="lib/views/logo_view.js"></script>
    <script type="text/javascript" src="lib/views/help_view.js"></script>
    <script type="text/javascript" src="lib/views/import_filter_view.js"></script>
    <script type="text/javascript" src="lib/views/shader_editor_view.js"></script>
    <script type="text/javascript" src="lib/views/shader_code_editor_view.js"></script>
    <script type="text/javascript" src="lib/views/timeline_view.js"></script>

    <script type="text/javascript" src="lib/views/dock_column.js"></script>
    <script type="text/javascript" src="lib/views/dock_view.js"></script>
    <script type="text/javascript" src="lib/views/dock_container.js"></script>
    <script type="text/javascript" src="lib/views/dock_panel.js"></script>
</head>

<body>     

    <div id="components">
        <div id="logo" class="keep-while-resizing">
            <h1 class="title left">CSS FilterLab</h1>
            <a href="#" id="filter-store-toggle" class="button drop-down dark">Add Filter<i class="icon drop-down-triangle dark"></i></a>
        </div>

        <div id="filters-not-supported-popup" class="filters-not-supported">
            <div>Your browser does not support custom filters. <a href="#" class="filters-not-supported-help">Help</a></div>
        </div>

        <div id="filter-code" class="code"></div>
        <div id="animation-code" class="code"></div>

        <div id="timeline">
            <h4 class="title">Timeline</h4>
            <div id="playPauseButton" class="play" title="Play animation">Play</div>    
            
            <div id="gotoPrevKeyframeButton" class="prev" title="Go to previous keyframe">Previous keyframe</div>
            <div id="toggleActiveKeyframeButton" class="toggle" title="Toggle keyframe on/off">Toggle keyframe</div>
            <div id="gotoNextKeyframeButton" class="next" title="Go to next keyframe">Next keyframe</div>
            
            <span class="start">0s</span>

            <div class="keyframe_wrapper">
                <div class="keyframe_bar">
                    <div class="keyframes_list"></div>
                    <div class="play_head"><span class="laser"></span></div>
                </div>
            </div>

            <input type="number" id="timelineDuration" min="0" value="0.5" step="0.1"  />
        </div>  
          
        <aside id="active-filters">  
            <ul id="filter-list">
                <li id="filter-list-empty">No filter applied. Add a filter to style the content.</li>
            </ul>
        </aside>
       
        <div id="animations-container" class="keep-while-resizing">
            <ul class="nav left">
                <li class="preset"> 
                    <a id="active-animation" class="button drop-down">
                        Presets
                    </a>
                    <a href="#" id="save-animation" class="button disabled" >Save as Preset</a>
                </li>
            </ul>

            <ul class="nav right">
                <li>
                    <a href="http://html.adobe.com/webstandards/csscustomfilters/" target='_blank' title="About CSS Custom Filters on html.adobe.com">What are CSS Custom Filters?</a>
                </li>
                <li>
                    <a id="help-link" href="#">Help</a>
                </li>
            </ul>
        
            <ul id="animations" class="menu">
            </ul>
        </div>

        <div id="config-editor">
            <div class="config-panel">

                <div class="config-row">
                    <label for="config-shader-name">Custom Filter Name:</label>
                    <input type="text" class="config-shader-name" name="config-shader-name" />
                </div>

                <div class="config-row">
                    <label for="config-shader-mesh-columns">Custom Filter Mesh Columns:</label>
                    <input type="number" class="config-shader-mesh-columns" name="config-shader-mesh-columns" min="1" max="100" />
                </div>

                <div class="config-row">
                    <label for="config-shader-mesh-rows">Custom Filter Mesh Rows:</label>
                    <input type="number" class="config-shader-mesh-rows" name="config-shader-mesh-rows" min="1" max="100" />
                </div>

                <div class="config-row">
                    <label for="config-shader-mix-blend-mode">Blend Mode:</label>
                    <select type="text" class="config-shader-mix-blend-mode" name="config-shader-mix-blend-mode">
                        <option value="normal">normal</option>
                        <option value="darken">darken</option>
                        <option value="multiply">multiply</option>
                        <option value="lighten">lighten</option>
                        <option value="screen">screen</option>
                        <option value="difference">difference</option>
                        <option value="exclusion">exclusion</option>
                    </select>
                </div>

                <div class="config-row config-parameters-row">
                    <div class="config-parameters-wrapper">
                        <h4>Parameters</h4>
                        <ul class="config-parameters">
                            
                        </ul>
                    </div>

                    <div class="config-parameter">
                        <h4>Parameter "<span class="config-parameter-label"></span>"</h4>

                        <div class="config-row">
                            <label for="config-parameter-type">Parameter Type:</label>
                            <select type="text" class="button dark config-parameter-type" name="config-parameter-type">
                                <option value="checkbox">Checkbox</option>
                                <option value="range">Range</option>
                                <option value="vec2">Vec2</option>
                                <option value="vec3">Vec3</option>
                                <option value="vec4">Vec4</option>
                                <option value="color">Color</option>
                                <option value="transform">Transform</option>
                                <option value="warp">Warp</option>
                                <option value="unknown">Other</option>
                            </select>
                        </div>

                        <div class="config-parameter-range">
                            <div class="config-row">
                                <label for="config-parameter-range-min">Parameter Range Minimum:</label>
                                <input type="number" class="config-parameter-range-min" name="config-parameter-range-min" />
                            </div>
                            <div class="config-row">
                                <label for="config-parameter-range-max">Parameter Range Maximum:</label>
                                <input type="number" class="config-parameter-range-max" name="config-parameter-range-max" />
                            </div>
                            <div class="config-row">
                                <label for="config-parameter-range-step">Parameter Range Step:</label>
                                <input type="number" class="config-parameter-range-step" name="config-parameter-range-step" />
                            </div>
                        </div>

                        <div class="config-row">
                            <label for="config-default-value">Parameter Default Value:</label>
                            <div class="value config-default-value">
                            </div>
                        </div>

                        <div class="config-row">
                            <label for="config-parameter-delete"></label>
                            <div class="value">
                                <a href="#" class="button dark config-parameter-delete" name="config-parameter-delete">Delete Parameter</a>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="#" id="post-gist-button" class="button dark">Publish to GitHub</a>
            </div>
        </div>
        <div id="vertex-shader" class="code-panel">
            <div class="code-view"></div>
        </div>
        <div id="fragment-shader" class="code-panel">
            <div class="code-view"></div>
        </div> 
        
        <div class="notice error" id="code-view-error">
            <strong>The CodeMirror library is missing!</strong><br />CodeMirror is used for editing code. See the README file on git submodules to learn how to get it.
        </div>

        <div id="shader-errors">
            <div>
                <div class="loader">
                    <div class="progress-bar"></div>
                    <div class="label"></div>
                </div>
                <div class="vertex-shader inline-shader-errors"></div>
                <div class="fragment-shader inline-shader-errors"></div>
            </div>
        </div>
        
        <section id="main">
            <div id="scene">
                <div id="container">
                    <div id="multi-col">
                        <h2 id="dialog-title">The Creative Web</h2>

                        <p>The Creative Web is not a mythical place. It's a place where HTML, CSS &amp; JS are supercharged with powers that extend their abilities to amaze.</p>

                        <p>CSS Filters is a small step for web design, a giant leap for the web. <a class="content-link" href="http://html.adobe.com/webstandards/csscustomfilters/" target="_blank">Learn more!</a></p>
                        
                        <embed id="svg-img" src="images/shaderprincess.svg" width="300"
                        height="100" alt="Shader Princess">

                    </div>
                </div>
            </div>
            
        </section>
    </div>
    
    <div id="main-view">
        <div id="app" class="container">
        </div>
    </div>

    <div id="codemirror-editors-view"></div>

    <div id="filter-dock"></div>

    <div id="loading">
        <div>
            Loading CSS FilterLab ...
        </div>
    </div>

    <div id="github-popup" class="popup">
        <div class="popup-inner">
            <div class="state gist-info">
                <h2 class="title">
                    <a href="#" class="gist-popup-close icon icon-close">Close</a>
                    Publish to GitHub
                </h2>
                <p>This will publish your shader configuration as a <a href="https://gist.github.com/" target="_blank">gist on GitHub</a>. <br />
                   A published gist can be used to share your custom code with others so that they can enjoy and play with the filter you created.
                </p>
                <a href='#' id="save-anonymous-gist" class="button">Publish gist</a>
            </div>
            <div class="state gist-login">
                <h2 class="title">
                    <a href="#" class="gist-popup-close icon icon-close">Close</a>
                    GitHub Login
                </h2>
                <p>
                    GitHub login window has been opened. If you cannot see the window please 
                    <a id="github-login-link" href="#">click here</a> to open it again.
                </p>
                <p class="gist-login-failed">Login failed.</p>
            </div>
            <div class="state gist-saving">
                <h2 class="title">Creating GitHub gist...</h2>
                <p><center><span class="spinner large"></span></center></p>
            </div>
            <div class="state gist-result">
                <h2 class="title">
                    <a href="#" class="gist-popup-close icon icon-close">Close</a>
                    GitHub gist created!
                </h2>
                <p>
                    Your new gist was created at: <a href="" target="_blank" id="gist-link"></a>
                </p>
                <p>
                    Share this link and other people can use it to import your shader configuration into CSS FilterLab. Gists can be imported using the "Import Filter" menu.
                </p>
            </div>
        </div>
    </div>

    <div id="browser-popup" class="popup">
        <div class="popup-inner">
            <h2>
                <a href="#" id="browser-popup-close" class="icon icon-close">Close</a>
                CSS FilterLab is using some cutting-edge features
             </h2>
            <p>That technolgy is available in the latest Google Chrome Canary and Webkit nightly builds. To enjoy the full experience you'll need to turn a few knobs:</p>
            <section>
                <h3>Google Chrome Canary</h3>
                <ol>
                    <li>Download and install <a href="https://tools.google.com/dlpage/chromesxs" target="_blank">Google Chrome Canary</a></li>
                    <li>Type <code>chrome://flags/</code> in the browser's address bar</li>
                    <li>Find the <strong>Enable CSS Shaders</strong> flag and turn it on</li>
                    <li>Find the <strong>GPU Accelerated SVG Filters</strong> flag and turn it on</li>
                    <li>Relaunch the browser</li>
                </ol>
            </section>
            <section>
                <h3>WebKit Nightly</h3>
                <ol>
                    <li>Download and install <a href="http://nightly.webkit.org/" target="_blank">WebKit Nightly</a></li>
                    <li>Open the browser's preferences panel. Go to the <strong>Advanced</strong> tab and tick to show the <strong>Develop</strong> menu in the menu bar</li>
                    <li>In the browser's menu bar click </strong>Develop</strong> > <strong>Enable WebGL</strong></li>
                </ol>
            </section>
        </div>
    </div>

    <div id="help-popup" class="popup">
        <div class="popup-inner">
            <h2>
                <a href="#" id="help-popup-close" class="icon icon-close">Close</a>
                Welcome to CSS FilterLab!
            </h2>
            <p>CSS FilterLab is a great way to explore the <a href="http://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html" target="_blank">CSS Filters</a> &amp; <a href="http://html.adobe.com/webstandards/csscustomfilters/" target="_blank">Custom Filters</a> feature.
                To get started, close this popup and click <b>Add Filter</b> to start exploring. You can always access this dialog by clicking <b>Help</b> on the top right corner of the app. Use the links below to learn more:</p>
            
            <span class="button-group" id="help-nav">
                <a href="#what-explore" class="button large start selected">Explore</a>
                <a href="#what-create" class="button large inside">Create</a>
                <a href="#what-share" class="button large inside">Share</a>
                <a href="#what-contribute" class="button large inside">Contribute</a>
                <a href="#what-support" class="button large end">Suport Us</a>
            </span>    
            
            <article>
                <div id="what-explore">
                    <h3>How do I get started?</h3>
                    <ul>    
                        <li>CSS FilterLab lets you add filters on web content. You can combine various filters to create cool effects.</li>
                        <li>Use the SLIDER to turn filters on and off without removing them.</li>
                        <li>The app also generates webkit based CSS syntax that you can reuse.</li>
                        <li>You can also use the Timeline to create CSS animations based on filters.</li>
                        <li>Once you are done, use <a href="#" class="button">Save as preset</a> to save the filter for later use</li>
                    </ul>
                    <p>P.S: Some parts of the CSS Filters spec are still in the experimental phase. We will prompt you on how you can enable them When you encounter them.</p>
                </div>   

                <div id="what-create">
                    <h3>How can I create my own custom filters?</h3>
                    <ul>
                        <li>CSS Custom Filters are written in OpenGL Shading Language (or GLSL).</li>
                        <li>To create your own filter, go to the Add Filter > Custom Filters tab and fork a filter by clicking <a href="#" class="customize-link icon icon-fork"></a></li>
                        <li>You can edit Filter Configurations or edit the underlying vertex &amp; fragment shaders themselves</li>
                        <li>Use the Error Panel to identify errors and when you are done, save the filter as a Forked Custom Filter</li>
                    </ul>
                </div> 

                <div id="what-share">
                    <h3>Share</h3>
                    <ul>
                        <li>Use <a href="#" class="button dark">Publish to GitHub</a> to publish your custom filter as a Github gist.</li>
                        <li>Share the gist URL with others and they can see your handy work by importing the gist using the <a href="#" class="button dark">Import filter</a> button.</li>
                        <li>For <b>maximum bragging rights</b>, consider contributing your shader to <a href="https://github.com/adobe/cssfilterlab" target="_blank">our Github repo</a>. If accepted, it will be part of the the default custom filters list.</li> 
                    </ul>
                    <p>P.S: For us to promptly evaluate your pull requests, please fill out and submit the <a href="https://github.com/adobe/cssfilterlab/dev/cssfilterlab-cla.html" target="_blank">Contributor License Agreement</a>.</p>
                </div> 

                <div id="what-contribute">
                    <h3>How can I help?</h3>
                    <ul>
                        <li>Please consider contributing your custom filters to <a href="https://github.com/adobe/cssfilterlab" target="_blank">our Github repo</a>.</li>
                        <li>If you want new features, implement it and and send a pull request on <a href="https://github.com/adobe/cssfilterlab" target="_blank">our Github repo</a>.</li>
                    </ul>
                    <p>P.S: For us to promptly evaluate your pull requests, please fill out and submit the <a href="https://github.com/adobe/cssfilterlab/dev/cssfilterlab-cla.html" target="_blank">Contributor License Agreement</a>.</p>
                </div> 
                <div id="what-support">
                    <h3>Support #CSSCustomFilters and #CSSFilterLab</h3>
                    <ul>
                        <li>We think this feature is awesome and it will make web design so much more intutive.</li>
                        <li>So if you want these new feature in all browsers, let the browser vendors know. We have a <b>tweet</b> button in the app to help you with this.</li>
                    </ul>
                </div>
            </article>
        </div>
    </div>
    
    <div id="import-filter">
        <section>
            
            <p>You can import a filter from a GitHub gist url. Once imported your filter will appear under the 'Forked custom filters' tab.</p>

            <div class="notice error">
                <strong>Oops!</strong>
                There was an error importing from that URL. Please check that it points to a filter gist and try again.
            </div>        

            <form action="#">
                <label for="gist-url">Filter Gist URL:</label>
                <input type="url" class="text-field dark" name="gist-url" placeholder="gist URL" required/>
                <a href="#" class="button dark disabled cta">Import</a>
            </form>
             
        </section>
    </div>
</body>
</html>
